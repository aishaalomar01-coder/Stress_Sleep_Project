---
title: "Sleep Duration and Stress Levels: A Statistical Analysis"
author: "Ayse Alomar"
date: "2025-02-25"
format:
  pdf:
    theme: cosmo
    toc: true
    code-fold: true
---

## Introduction

This project investigates the relationship between sleep duration and stress levels, with particular attention to potential gender differences. Understanding these relationships can help with public health recommendations and personal wellness.

### Research Questions

1. **Is there a statistically significant relationship between sleep duration and stress levels?**
2. **Does gender influence sleep duration or stress levels?**

## Methodology

### Data Source

The analysis uses the Sleep Health and Lifestyle Dataset from Kaggle, which contains self-reported data on sleep duration (hours per night) and perceived stress levels (1-10 scale) from adult participants.

### Data Cleaning

I implemented validation criteria to ensure data quality:

- **Sleep duration**: Valid range 3-12 hours (typical human sleep range)
- **Stress level**: Valid range 1-10 (scale constraints)
- **Missing data**: Removed incomplete records

This approach addresses potential data entry errors and outliers that could distort statistical analyses.

### Statistical Methods

- **Pearson correlation**: Measures linear relationship between sleep and stress. 
- **Independent t-tests**: Compares means between gender groups
- **Significance threshold**: p < 0.05

## Results

### Research Question 1: Sleep vs Stress

```{python}
#| echo: false
#| warning: false

import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
from scipy import stats

# Load and clean data
data = pd.read_csv("Sleep_health_and_lifestyle_dataset.csv")
data.columns = data.columns.str.lower().str.replace(" ", "_")

def validate_range(x, min_val, max_val):
    if pd.isna(x): return pd.NA
    return x if min_val <= x <= max_val else pd.NA

data_clean = data.copy()
data_clean["sleep_duration"] = data_clean["sleep_duration"].apply(lambda x: validate_range(x, 3, 12))
data_clean["stress_level"] = data_clean["stress_level"].apply(lambda x: validate_range(x, 1, 10))
data_clean = data_clean.dropna(subset=["sleep_duration", "stress_level", "gender"])

# Calculate correlation
r, p_value = stats.pearsonr(data_clean["sleep_duration"], data_clean["stress_level"])

# Create visualization
plt.figure(figsize=(10, 6))
sns.regplot(data=data_clean, x="sleep_duration", y="stress_level", 
            scatter_kws={'alpha':0.4, 's':60, 'color':'steelblue'}, 
            line_kws={'color':'darkred', 'linewidth':2.5})
plt.title(f"Sleep Duration vs Stress Level\n(r = {r:.3f}, p = {p_value:.4f})", 
          fontsize=14, fontweight='bold')
plt.xlabel("Sleep Duration (hours)", fontsize=12)
plt.ylabel("Stress Level (1-10)", fontsize=12)
plt.grid(alpha=0.3, linestyle='--')
plt.tight_layout()
plt.show()
```

The analysis revealed a **significant negative correlation** (r = -0.43, p < 0.001). between sleep duration and stress levels. This indicates that individuals who sleep longer tend to report lower stress levels.

The correlation coefficient suggests a moderate-to-strong relationship, supporting the hypothesis that adequate sleep is associated with reduced perceived stress.

### Research Question 2: Gender Influence

To investigate whether gender influences sleep patterns and stress levels, I first split the dataset by gender and calculated 
descriptive statistics for each group.
```{python}
#| echo: false
# Split dataset by gender
male_data = data_clean[data_clean["gender"] == "Male"]
female_data = data_clean[data_clean["gender"] == "Female"]

# Calculate sleep statistics
print("Sleep Duration by Gender:")
print(f"  Male (n={len(male_data)}): {male_data['sleep_duration'].mean():.2f} ± {male_data['sleep_duration'].std():.2f} hours")
print(f"  Female (n={len(female_data)}): {female_data['sleep_duration'].mean():.2f} ± {female_data['sleep_duration'].std():.2f} hours")
```

The data shows the average sleep duration for each gender with standard deviation. Males averaged slightly different sleep hours compared to females, but to determine if this difference is meaningful, I conducted a statistical test.
```{python}
#| echo: false

# Perform independent t-test for sleep duration
t_sleep, p_sleep = stats.ttest_ind(male_data["sleep_duration"], female_data["sleep_duration"])

print("\nStatistical Test for Sleep Duration:")
print(f"  t-statistic: {t_sleep:.3f}")
print(f"  p-value: {p_sleep:.4f}")

if p_sleep < 0.05:
    print(f"  Result: Significant difference between genders (p < 0.05)")
else:
    print(f"  Result: No significant difference between genders (p ≥ 0.05)")

# Now test stress levels
print("\n" + "="*50)
print("\nStress Level by Gender:")
print(f"  Male: {male_data['stress_level'].mean():.2f} ± {male_data['stress_level'].std():.2f}")
print(f"  Female: {female_data['stress_level'].mean():.2f} ± {female_data['stress_level'].std():.2f}")

t_stress, p_stress = stats.ttest_ind(male_data["stress_level"], female_data["stress_level"])

print("\nStatistical Test for Stress Level:")
print(f"  t-statistic: {t_stress:.3f}")
print(f"  p-value: {p_stress:.4f}")

if p_stress < 0.05:
    print(f"  Result: Significant difference between genders (p < 0.05)")
else:
    print(f"  Result: No significant difference between genders (p ≥ 0.05)")
```

The independent samples t-test compares the means of two groups. A p-value less than 0.05 indicates that the observed difference is statistically significant and unlikely to be due to random chance alone.
```{python}
#| echo: false

# Create visualization comparing genders
fig, axes = plt.subplots(1, 2, figsize=(12, 5))

sns.barplot(data=data_clean, x="gender", y="sleep_duration", hue="gender",
            palette="Set2", errorbar="sd", legend=False, ax=axes[0])
axes[0].set_title("Sleep Duration by Gender")
axes[0].set_ylabel("Hours")

sns.barplot(data=data_clean, x="gender", y="stress_level", hue="gender",
            palette="Set2", errorbar="sd", legend=False, ax=axes[1])
axes[1].set_title("Stress Level by Gender")
axes[1].set_ylabel("Stress (1-10)")

plt.tight_layout()
plt.show()
```

The bar charts visualize the gender comparisons with error bars showing standard deviation. This provides a clear visual representation of the differences between male and female participants in both sleep duration and stress levels.

## Discussion

The findings show that sleep duration is significantly associated with stress levels, supporting existing research suggesting that adequate sleep may reduce perceived stress.

Gender analysis revealed statistically significant differences in both sleep duration and stress levels. While the difference in sleep duration was small, stress levels differed substantially, with males reporting higher stress on average.


### Limitations

- Cross-sectional design limits causal inference
- Self-reported data may contain measurement bias
- Sample may not be representative of broader population

## Conclusion

This analysis demonstrates a clear statistical relationship between sleep duration and stress levels. The findings support public health messaging emphasizing adequate sleep as a stress management strategy.

---

**Code Repository:** https://github.com/aishaalomar01-coder/Stress_Sleep_Project.git